SchemaVersion: 2018-07-01
Owner: "@mongodb/server-perf"
Description: >
  Run large insertMany's to stress checkpointing, journal flush and dirty memory with {w:majority}. This workload uses:
    - a very simple document structure 
      - _id: ObjectId
      - x: a ~1KB fixed string 
      - id: 'User%07d' incrementing field.
    - no additional indexes (beyond _id).
  The important ftdc metrics to look at are:
    - ss opcounters insert
    - ss average latency writes
    - system memory dirty
    - ss wt log log sync time duration
    - ss wt transaction transaction checkpoint currently running

LoadConfig:
  Path: ../../phases/filesystem/FlushingTemplate.yml

AutoRun:
  - When:
      mongodb_setup:
        $eq:
          - replica
      branch_name:
        $gte: v7.0